---
date: 2016-12-23 11:35
status: public
title: html传参数乱码
tags:
  - H5
---

摘要:有时候会遇到传H5参数会乱码，就是一个页面用get方法带去参数，之后在另外一个页面获取参数会乱码，顺便写出获取参数的方法
<!--more-->
//获取参数的方法
function getQueryString(name) {
    var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i");
    var r = window.location.search.substr(1).match(reg);
    if (r != null) return unescape(r[2]); return null;
}
在一个URL带上参数例如：http://127.0.0.1:8020/index.html?id=205&department=部门
但是这个中文会乱码，在获取的时候，这个时候我们要先给部门两个中文字先encode  之后再获取的时候再解码：index.html?id='+id+'&department='+escape(department)+'
然后获取的时候就直接unescape(getQueryString('department'))  获取出来的就不是乱码了。